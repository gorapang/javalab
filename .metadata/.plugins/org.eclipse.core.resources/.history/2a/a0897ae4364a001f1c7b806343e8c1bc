package step01.basic;

import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import org.junit.Test;

public class ConnectionProperty2 {
	
	@Test
    public void connect() throws SQLException {
		Connection conn = null;
		Statement stmt = null;
		ResultSet rs = null;
		
        try {
            conn = DBUtil.getConnection();
            stmt = conn.createStatement();
            rs = stmt.executeQuery("select * from dept");
            
            while(rs.next()) {
            	System.out.println(rs.getInt("deptno"));
            }
            
        } finally { 
        	DBUtil.close(conn, stmt, rs);
        }
        
        System.out.println("예외 처리로 인해 정상, 비정상 이어도 실행되는 영역");
    }

	//@Test
	public void connect2() throws SQLException {
		Connection conn = null;
		Statement stmt = null;
		ResultSet rs = null;
		
	    try {
	        conn = DBUtil.getConnection();
	        stmt = conn.createStatement();
	        rs = stmt.executeQuery("select * from dept");
	    } catch(SQLException e) {
	    	e.printStackTrace(); //
	    } finally { 
	    	DBUtil.close(conn, stmt, rs);
	    }
	    
	    System.out.println("예외 처리로 인해 정상, 비정상 이어도 실행되는 영역");
	}
	
}